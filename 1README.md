Список процессов и функций:

Планирование и выпуск релизов. Управление разработкой.
Предрелизное тестирование изменений.
Работа с конфигурацией поставщика.
Контроль операций с конфигурацией.
Критерии успеха проекта по внедрению системы управления версиями.

с помощью системы управления версиями осуществляется регулярное планирование релизов (создание изолированных “веток” разработки для каждого релиза), в рамках которых выполняется разработка изменений конфигурации;
с помощью системы контроля версий производится независимое обновление тестового стенда и рабочей базы, при этом пакеты для обновления создаются автоматически;
система контроля версий охватывает все операции процесса разработки и все базы данных, принятые на доработку, ее работа при этом осуществляется оперативными средствами самой системы, без вмешательства разрабочика.
Требования к системе управления версиями для каждого процесса.

В настоящем разделе рабочие процессы команды 1С не описываются. Для каждого процесса только перечислены основные требования и задачи, которые должны быть решены с помощью системы управления версиями.

1. Планирование и выпуск релизов. Управление разработкой.

1.1. Необходима возможность для каждого разработчика работать с нужным ему куском кода 1С, менять объекты в соответствии с согласованными требованиями, сохранять сделанные изменения.

1.2. Необходима возможность группировки задач для разработки в изолированные “ветки” в соответствии с релизами, которые планируется выпустить. Разарботка задач для каждого из релизов должна вестись внутри этой изолированной “ветки”. Название каждой ветки должно совпадать с номером релиза из Jira.

1.3. Необходима возможность “переброски” задач (= участков для разработки и сделанных по ним изменений) из одной “ветки” в другую в случае изменения планов по релизам (т.е. если было принято решение ту или иную задачу выпустить в более раннем или в более позднем релизе).

1.4. Необходима возможность передачи задач (= участков для разработки и сделанных по ним изменений, в том числе незаконченных) от одного разработчика к другому - в случае смены исполнителей еще не доделанных задач (как на этапе разработки, так и на более подздних этапах).

1.5. Необходима возможность сливать вместе изменения кода, сделанные разными разработчиками, при этом нужна также возможность сравнивать сделанные изменения, выявлять конфликты, если доработка затронула одни и те же объекты, фиксировать эти конфликты в виде сообщений разработчикам (для сохранения аудиторского следа).

1.6. Необходима возможность получать список изменений, сделанных в выбранной “ветке” - для того, чтобы после выхода релиза иметь возможность публиковать список доработок конфигурации. Список изменений можно выводить и при объединении “ветки” с основной конфигурацией.

1.7. Желательна (но необязательна) возможность устанавливать приоритеты для изменений кода - для того, чтобы присоединении разработок от разных исполнителей понимать, какие изменения одного и того же объекта нужно принять в случае возникновения конфликта между ними.

1.8. Необходима возможность обновлять тестовый стенд разработанными изменениями из выбранной “ветки” - того релиза, по задачам которого разработка закончена и которые требуется протестировать. При этом эти изменения не должны попадать в рабочую базу без тестирования.

1.9. Необходимо обновлять рабочую базу протестированными изменениями конфигурации, при этом в рабочую базу не должны попадать изменения из других “веток” (= других релизов).

1.10. После выпуска релиза (т.е. после обновления рабочей базы) необходимо блокировать для изменений “ветку” релиза, из которой было произведено обновление - для предотвращения дальнейших изменений в этой ветке.

1.11. Нужна возможность в случае необходимости быстро вернуться к предыдущей версии конфигурации рабочей базы (если выпуск релиза прошел неудачно, обнаружились какие-то критические ошибки и т.д.). Длительность такого “отката” не должна превышать 20 минут.

2. Предрелизное тестирование.

2.1. Нужна возможность автоматического юнит-тестирования конфигурации тестового стенда. При этом должна быть возможность проведения параллельно функционального тестирования для проверки сделанных изменений.

2.2. Нужна также возможность автоматического юнит-тестирования рабочей конфигурации после выпуска релиза (либо непосредственно перед выпуском, но с использованием актуальных данных).

3. Работа с конфигурацией поставщика.

3.1. Необходимо иметь возможность хранить конфигурацию поставщика в неизменном виде в отдельной “ветке” системы контроля версий.

3.2. Необходима возможность обновлять конфигурацию поставщика типовыми обновлениями, в том числе автоматически, как это предусмотрено поставщиком - при этом обновления не должны быть внесены в рабочую конфигурацию.

3.3. Необходима возможность сравнивать актуальную конфигурацию поставщика с рабочей конфигурацией и частично или полностью обновлять конфигурацию рабочей базы при необходимости. При этом сначала обновленная рабочая конфигурация должна быть протестирована, для чего она выгружается в тестовый стенд, и только после этого обновляется сама рабочая конфигурация.

3.4. При этом должны соблюдаться требоания к предрелизному тестированию, изложенные в пункте 2.

4. Контроль операций с конфигурацией.

4.1. Необходима запись в логи следующих действий с конфигурацией и/или с системой контроля версий:

4.1.1. Создание новой “ветки”;

4.1.2. Любые изменения кода внутри каждой из “веток” (сохранение информации о том, кто, когда и как поменял код).

4.1.3. Операция по объединению “веток”.

4.1.4. Операция по передаче задач (= участков разработки) из одной “ветки” в другую.

4.1.5. Обновление тестового стенда и рабочей базы.

4.1.6. Откат конфигурации тестового стенда и рабочей базы к предыдущей версии.
